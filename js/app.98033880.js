(function(t){function e(e){for(var o,a,u=e[0],i=e[1],d=e[2],l=0,b=[];l<u.length;l++)a=u[l],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&b.push(c[a][0]),c[a]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);s&&s(e);while(b.length)b.shift()();return r.push.apply(r,d||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,a=1;a<n.length;a++){var i=n[a];0!==c[i]&&(o=!1)}o&&(r.splice(e--,1),t=u(u.s=n[0]))}return t}var o={},c={app:0},r=[];function a(t){return u.p+"js/"+({}[t]||t)+"."+{"chunk-02401f8d":"4e1d3634","chunk-2d0e2308":"728ed792","chunk-2d210f6e":"1ede2db1","chunk-2d212c30":"daa2741b"}[t]+".js"}function u(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n=c[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,o){n=c[t]=[e,o]}));e.push(n[2]=o);var r,i=document.createElement("script");i.charset="utf-8",i.timeout=120,u.nc&&i.setAttribute("nonce",u.nc),i.src=a(t);var d=new Error;r=function(e){i.onerror=i.onload=null,clearTimeout(l);var n=c[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",d.name="ChunkLoadError",d.type=o,d.request=r,n[1](d)}c[t]=void 0}};var l=setTimeout((function(){r({type:"timeout",target:i})}),12e4);i.onerror=i.onload=r,document.head.appendChild(i)}return Promise.all(e)},u.m=t,u.c=o,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)u.d(n,o,function(e){return t[e]}.bind(null,o));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/hexVueWeekHomeWork_week6/",u.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var s=d;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),c=n("7b17"),r=n("bc3a"),a=n.n(r),u=n("130e"),i={class:"container-fluid text-center"};function d(t,e){var n=Object(o["B"])("router-view");return Object(o["v"])(),Object(o["e"])("div",i,[Object(o["h"])(n)])}n("96d4");var l=n("6b0d"),s=n.n(l);const b={},f=s()(b,[["render",d]]);var p=f,h=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),m={class:"home"},O=Object(o["f"])("h5",{class:"mt-5 mb-3"},"這是前台頁面",-1),j={id:"nav",class:"m-3 fs-4"},v=Object(o["g"])("首頁"),g=Object(o["g"])(" | "),y=Object(o["g"])(" 前台產品列表"),P=Object(o["g"])(" | "),T=Object(o["g"])(" 前台購物車 "),_=Object(o["g"])(" | "),w=Object(o["g"])(" 後台頁面 "),k=Object(o["f"])("h4",null,"首頁",-1);function C(t,e,n,c,r,a){var u=Object(o["B"])("router-link"),i=Object(o["B"])("router-view");return Object(o["v"])(),Object(o["e"])("div",m,[O,Object(o["f"])("div",j,[Object(o["h"])(u,{to:"/"},{default:Object(o["L"])((function(){return[v]})),_:1}),g,Object(o["h"])(u,{to:"/productsview"},{default:Object(o["L"])((function(){return[y]})),_:1}),P,Object(o["h"])(u,{to:"/cart"},{default:Object(o["L"])((function(){return[T]})),_:1}),_,Object(o["h"])(u,{to:"/admin"},{default:Object(o["L"])((function(){return[w]})),_:1})]),k,Object(o["h"])(i)])}var M={name:"Home",components:{},methods:{},mounted:function(){this.$store.dispatch("getProdusts")}};const E=s()(M,[["render",C]]);var $=E,x={class:"table align-middle"},A=Object(o["f"])("thead",null,[Object(o["f"])("tr",null,[Object(o["f"])("td",{width:"200"},"圖片"),Object(o["f"])("td",null,"商品名稱"),Object(o["f"])("td",null,"價格"),Object(o["f"])("td",{width:"300"})])],-1),L=["src","alt"],S=["onClick"],N=["onClick"];function R(t,e,n,c,r,a){var u=Object(o["B"])("productModal");return Object(o["v"])(),Object(o["e"])(o["a"],null,[Object(o["f"])("table",x,[A,Object(o["f"])("tbody",null,[(Object(o["v"])(!0),Object(o["e"])(o["a"],null,Object(o["A"])(this.$store.state.products,(function(e){return Object(o["v"])(),Object(o["e"])("tr",{key:e.id},[Object(o["f"])("td",null,[Object(o["f"])("img",{class:"img-fluid",src:e.imageUrl,alt:e.title},null,8,L)]),Object(o["f"])("td",null,Object(o["E"])(e.title),1),Object(o["f"])("td",null,Object(o["E"])(e.price),1),Object(o["f"])("td",null,[Object(o["f"])("button",{type:"button",class:"btn btn-outline-primary",onClick:function(t){return a.openModal(e)}}," 查看更多 ",8,S),Object(o["f"])("button",{type:"button",class:"btn btn-outline-danger",onClick:function(n){return a.addToCart(e.id,t.qty)}}," 加到購物車 ",8,N)])])})),128))])]),Object(o["h"])(u,{ref:"productModal"},null,512)],64)}n("99af"),n("a4d3"),n("e01a");var U={class:"modal fade",id:"productModal",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true",ref:"modal"},q={class:"modal-dialog modal-lg"},B={class:"modal-content"},D={class:"modal-header"},H={class:"modal-title",id:"productModalLabel"},V=Object(o["f"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),F={class:"modal-body"},I={class:"row"},J={class:"col-6"},W=["src","alt"],z={class:"col-6"},G={class:"badge bg-primary"},K={style:{"text-decoration":"line-through"}},Q={class:"input-group mb-3"},X=Object(o["f"])("div",{class:"modal-footer"},[Object(o["f"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ")],-1);function Y(t,e,n,c,r,a){var u=this;return Object(o["v"])(),Object(o["e"])("div",U,[Object(o["f"])("div",q,[Object(o["f"])("div",B,[Object(o["f"])("div",D,[Object(o["f"])("h5",H,Object(o["E"])(this.$store.state.tempProduct.title),1),V]),Object(o["f"])("div",F,[Object(o["f"])("div",I,[Object(o["f"])("div",J,[Object(o["f"])("img",{class:"img-fluid",src:this.$store.state.tempProduct.imageUrl,alt:this.$store.state.tempProduct.title},null,8,W)]),Object(o["f"])("div",z,[Object(o["f"])("span",G,Object(o["E"])(this.$store.state.tempProduct.category),1),Object(o["f"])("p",null,"商品描述："+Object(o["E"])(this.$store.state.tempProduct.content),1),Object(o["f"])("p",null,"商品內容："+Object(o["E"])(this.$store.state.tempProduct.description),1),Object(o["f"])("h5",K," 原價 "+Object(o["E"])(this.$store.state.tempProduct.origin_price)+" 元 ",1),Object(o["f"])("h4",null,"現在只要 "+Object(o["E"])(this.$store.state.tempProduct.price)+" 元",1),Object(o["f"])("div",Q,[Object(o["M"])(Object(o["f"])("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=function(t){return r.productNum=t}),class:"form-control",placeholder:"請輸入購買數量","aria-label":"Recipient's username","aria-describedby":"button-addon2"},null,512),[[o["H"],r.productNum,void 0,{number:!0}]]),Object(o["f"])("button",{class:"btn btn-outline-primary",type:"button",onClick:e[1]||(e[1]=function(t){return a.addToCart(u.$store.state.tempProduct.id)}),id:"button-addon2"}," 確認加入購物車 ")])])])]),X])])],512)}var Z={data:function(){return{modal:null,productNum:""}},methods:{openModal:function(){this.modal.show()},addToCart:function(t){var e=this,n={product_id:t,qty:this.productNum};this.$http.post("".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("yofyang","/cart"),{data:n}).then((function(t){e.productNum>0?(e.modal.hide(),alert("已加入購物車"),e.productNum=""):(alert("請輸入正確數字"),e.productNum="")})).catch((function(t){console.log(t)}))}},mounted:function(){this.modal=new c["a"](this.$refs.modal)}};const tt=s()(Z,[["render",Y]]);var et=tt,nt={components:{productModal:et},data:function(){return{}},methods:{openModal:function(t){this.$store.dispatch("ProductModal",t),this.$refs.productModal.openModal()},addToCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n={product_id:t,qty:e};this.$http.post("".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("yofyang","/cart"),{data:n}).then((function(t){console.log(t),alert("已加入購物車")})).catch((function(t){console.log(t)}))}}};const ot=s()(nt,[["render",R]]);var ct=ot,rt=[{path:"/",name:"Home",component:$,children:[{path:"/productsview",name:"ProductsView",component:ct},{path:"cart",name:"Cart",component:function(){return n.e("chunk-02401f8d").then(n.bind(null,"b789"))}}]},{path:"/admin",name:"Admin",component:function(){return n.e("chunk-2d0e2308").then(n.bind(null,"7e48"))},children:[{path:"products",name:"Products",component:function(){return n.e("chunk-2d212c30").then(n.bind(null,"aa93"))}},{path:"orders",name:"Orders",component:function(){return n.e("chunk-2d210f6e").then(n.bind(null,"b9ab"))}}]}],at=Object(h["a"])({history:Object(h["b"])(),routes:rt}),ut=at,it=n("5502"),dt=Object(it["a"])({state:{products:[],tempProduct:{},cart:[],final_total:""},mutations:{STATE_PRODUCTS:function(t,e){t.products=e},STATE_CART:function(t,e){t.cart=e},TEMP_PRODUCT:function(t,e){t.tempProduct=e},FINAL_TOTAL:function(t,e){t.final_total=e}},actions:{getProdusts:function(t){var e=t.commit;a.a.get("".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("yofyang","/products")).then((function(t){e("STATE_PRODUCTS",t.data.products)})).catch((function(t){console.log(t)}))},getCart:function(t){var e=t.commit;a.a.get("".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("yofyang","/cart")).then((function(t){e("STATE_CART",t.data.data.carts),e("FINAL_TOTAL",t.data.data.final_total)})).catch((function(t){console.log(t)}))},ProductModal:function(t,e){var n=t.commit;n("TEMP_PRODUCT",e)}},modules:{}}),lt=Object(o["c"])(p);lt.use(dt),lt.use(ut),lt.use(u["a"],a.a),lt.mount("#app")},"8a30":function(t,e,n){},"96d4":function(t,e,n){"use strict";n("8a30")}});
//# sourceMappingURL=app.98033880.js.map